<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (15) on Wed Jan 13 00:21:41 CET 2021 -->
<title>StoreController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-01-13">
<meta name="description" content="declaration: package: it.polimi.se2.clupapplication.controllers, class: StoreController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.se2.clupapplication.controllers</a></div>
<h1 title="Class StoreController" class="title">Class StoreController</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">it.polimi.se2.clupapplication.controllers.StoreController</div>
</div>
<section class="description">
<hr>
<pre>@RestController
@RequestMapping("/api/store")
public class <span class="type-name-label">StoreController</span>
extends java.lang.Object</pre>
<div class="block">This controller handles the Store API, interfacing with the storeService and the userService.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E()">StoreController</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#addHours(it.polimi.se2.clupapplication.model.SlotDTO)">addHours</a></span>&#8203;(<a href="../model/SlotDTO.html" title="class in it.polimi.se2.clupapplication.model">SlotDTO</a>&nbsp;slotDTO)</code></th>
<td class="col-last">
<div class="block">Create a new time slot to be bound to a store.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#createNewStore(it.polimi.se2.clupapplication.model.StoreDTO)">createNewStore</a></span>&#8203;(<a href="../model/StoreDTO.html" title="class in it.polimi.se2.clupapplication.model">StoreDTO</a>&nbsp;storeDTO)</code></th>
<td class="col-last">
<div class="block">Create a new store starting from a user POST request.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#deleteSlot(java.lang.Long)">deleteSlot</a></span>&#8203;(java.lang.Long&nbsp;slotId)</code></th>
<td class="col-last">
<div class="block">Delete a slot given its id.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#editStore(it.polimi.se2.clupapplication.model.StoreDTO)">editStore</a></span>&#8203;(<a href="../model/StoreDTO.html" title="class in it.polimi.se2.clupapplication.model">StoreDTO</a>&nbsp;storeDTO)</code></th>
<td class="col-last">
<div class="block">Edit the store information.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#fireAttendant(java.lang.Long)">fireAttendant</a></span>&#8203;(java.lang.Long&nbsp;attendantId)</code></th>
<td class="col-last">
<div class="block">Fire an attendant of a store given its id.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getAllSlots(java.lang.Long)">getAllSlots</a></span>&#8203;(java.lang.Long&nbsp;storeId)</code></th>
<td class="col-last">
<div class="block">Retrieve all the available slot given a certain store.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getAllStores()">getAllStores</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i7">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getMyAttendants()">getMyAttendants</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color" id="i8">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getMyStore()">getMyStore</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i9">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getStore(java.lang.Long)">getStore</a></span>&#8203;(java.lang.Long&nbsp;storeId)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color" id="i10">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getStoresByCap(int)">getStoresByCap</a></span>&#8203;(int&nbsp;cap)</code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color" id="i11">
<td class="col-first"><code>org.springframework.http.ResponseEntity&lt;?&gt;</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getStoreSlots()">getStoreSlots</a></span>()</code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>StoreController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">StoreController</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="createNewStore(it.polimi.se2.clupapplication.model.StoreDTO)">
<h3>createNewStore</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/create")
@PreAuthorize("hasAnyRole(\'MANAGER\')")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">createNewStore</span>&#8203;(<span class="parameters">@RequestBody
<a href="../model/StoreDTO.html" title="class in it.polimi.se2.clupapplication.model">StoreDTO</a>&nbsp;storeDTO)</span></div>
<div class="block">Create a new store starting from a user POST request.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storeDTO</code> - the Data Transfer Object of the store to be created.</dd>
<dt>Returns:</dt>
<dd>status code 200 with a new instance of store if everything goes fine, 400 otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addHours(it.polimi.se2.clupapplication.model.SlotDTO)">
<h3>addHours</h3>
<div class="member-signature"><span class="annotations">@PostMapping("/addSlot")
@PreAuthorize("hasAnyRole(\'MANAGER\')")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">addHours</span>&#8203;(<span class="parameters">@RequestBody
<a href="../model/SlotDTO.html" title="class in it.polimi.se2.clupapplication.model">SlotDTO</a>&nbsp;slotDTO)</span></div>
<div class="block">Create a new time slot to be bound to a store.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>slotDTO</code> - the Data Transfer Object of the store to be created.</dd>
<dt>Returns:</dt>
<dd>status code 200.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStore(java.lang.Long)">
<h3>getStore</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/getStoreById")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">getStore</span>&#8203;(<span class="parameters">@RequestParam
java.lang.Long&nbsp;storeId)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storeId</code> - the id of the store to be retrieved.</dd>
<dt>Returns:</dt>
<dd>the Store serialized instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllStores()">
<h3>getAllStores</h3>
<div class="member-signature"><span class="annotations">@PreAuthorize("hasAnyRole(\'USER\', \'MANAGER\')")
@GetMapping("/getAllStores")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">getAllStores</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a list of all the existent stores.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllSlots(java.lang.Long)">
<h3>getAllSlots</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/getAvailableSlots")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">getAllSlots</span>&#8203;(<span class="parameters">@RequestParam
java.lang.Long&nbsp;storeId)</span></div>
<div class="block">Retrieve all the available slot given a certain store.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storeId</code> - the id of the store which slots have to be retrieved.</dd>
<dt>Returns:</dt>
<dd>the list of all the slots.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStoresByCap(int)">
<h3>getStoresByCap</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/getStoresByCap")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">getStoresByCap</span>&#8203;(<span class="parameters">@RequestParam
int&nbsp;cap)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cap</code> - the postcode of the stores to be retrieved.</dd>
<dt>Returns:</dt>
<dd>the stores in that area.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMyStore()">
<h3>getMyStore</h3>
<div class="member-signature"><span class="annotations">@PreAuthorize("hasAnyRole(\'MANAGER\', \'ATTENDANT\')")
@GetMapping("/getMyStore")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">getMyStore</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the store of a given manager or attendant, properly identified through him (her) token, which is appended
 to the request.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMyAttendants()">
<h3>getMyAttendants</h3>
<div class="member-signature"><span class="annotations">@PreAuthorize("hasRole(\'MANAGER\')")
@GetMapping("/getMyAttendants")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">getMyAttendants</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a list of attendants of a store, given its manager. As before, the store manager is identified through
 the personal authorization token.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStoreSlots()">
<h3>getStoreSlots</h3>
<div class="member-signature"><span class="annotations">@PreAuthorize("hasRole(\'MANAGER\')")
@GetMapping("/getStoreSlots")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">getStoreSlots</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>all the slots of a store, given its manager.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editStore(it.polimi.se2.clupapplication.model.StoreDTO)">
<h3>editStore</h3>
<div class="member-signature"><span class="annotations">@PreAuthorize("hasRole(\'MANAGER\')")
@PostMapping("/editStore")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">editStore</span>&#8203;(<span class="parameters">@RequestBody
<a href="../model/StoreDTO.html" title="class in it.polimi.se2.clupapplication.model">StoreDTO</a>&nbsp;storeDTO)</span></div>
<div class="block">Edit the store information. This procedure can only be made by the store manager.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>storeDTO</code> - the Data Transfer Object containing the updated information about the store object.</dd>
<dt>Returns:</dt>
<dd>the updated store object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteSlot(java.lang.Long)">
<h3>deleteSlot</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/deleteSlot")
@PreAuthorize("hasRole(\'MANAGER\')")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">deleteSlot</span>&#8203;(<span class="parameters">@RequestParam
java.lang.Long&nbsp;slotId)</span></div>
<div class="block">Delete a slot given its id.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>slotId</code> - the id of the slot to be deleted.</dd>
<dt>Returns:</dt>
<dd>status code 200 if request is successful, status code 422 if there are active bookings in that slot,
 status code 403 if the store manager does not manage the store which the slot is bound to.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fireAttendant(java.lang.Long)">
<h3>fireAttendant</h3>
<div class="member-signature"><span class="annotations">@GetMapping("/fireAttendant")
@PreAuthorize("hasRole(\'MANAGER\')")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="member-name">fireAttendant</span>&#8203;(<span class="parameters">@RequestParam
java.lang.Long&nbsp;attendantId)</span></div>
<div class="block">Fire an attendant of a store given its id.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>attendantId</code> - the id of the attendant to fire.</dd>
<dt>Returns:</dt>
<dd>status code 200 if request is successful, status code 403 if the manager does not manage the attendant's store.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
